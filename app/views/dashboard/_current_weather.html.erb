<div class="flex flex-col w-full h-full justify-center gap-4">
  <% if @weather.blank? || @weather["location"].blank? || @weather["current"].blank? %>
    <p class="text-gray-500 text-center w-full">Weather data not available</p>
  <% else %>
    <!-- Top: Location + Time -->
    <div class="w-full text-center sm:text-left">
      <h3 class="font-semibold text-gray-800 text-lg sm:text-xl">
        <%= @weather["location"]["region"] %>, <%= @weather["location"]["country"] %>
      </h3>
      <p class="text-gray-600 font-medium mt-0.5 text-sm sm:text-base">
        <% weather_time = @weather["location"]["localtime"] %>
        <%= Time.parse(weather_time).strftime("%-I:%M %p | %a | %d-%b") %>
      </p>
    </div>

    <!-- Bottom: Icon left / Details right -->
    <div class="flex flex-col sm:flex-row w-full items-center justify-center gap-4 flex-1">
      <!-- Weather Icon -->
      <div class="flex-shrink-0 flex justify-center sm:justify-end w-full sm:w-auto">
        <img src="https:<%= @weather["current"]["condition"]["icon"] %>" 
             alt="Weather icon" 
             class="w-16 h-16 sm:w-24 sm:h-24 rounded-xl bg-gray-100 p-2">
      </div>

      <!-- Weather Details -->
      <div class="flex-1 flex flex-col justify-center items-center sm:items-start text-center sm:text-left gap-1">
        <p class="text-gray-700 font-medium text-sm sm:text-base">
          <%= @weather["current"]["temp_c"] %>째C / <%= @weather["current"]["temp_f"] %>째F
        </p>
        <p class="text-gray-500 text-sm sm:text-base">
          <%= @weather["current"]["condition"]["text"] %>
        </p>
        <p class="text-gray-700 font-medium text-sm sm:text-base">
          Heat Index: <%= @weather["current"]["heatindex_c"] %>째C / <%= @weather["current"]["heatindex_f"] %>째F
        </p>
        <p class="text-gray-700 font-medium text-sm sm:text-base mt-1">
          Humidity: <%= @weather["current"]["humidity"] %>%
        </p>
      </div>
    </div>
  <% end %>
</div>
